#   微机原理与接口

# 第一章 ：微型计算机基础

## 第一章考点（10分）：

1. 微型计算机的组成及各部分的功能与作用
2. 微型机的基本工作过程
3. 计算机中编码数制及其转换
4. 无符号二进制数的算术运算和逻辑运算
5. 运算中的溢出
6. 机器数的表示及运算
7. 基本逻辑门及常用逻辑部件

## 一.微型计算机的概述

### 1.计算机的发展：电子器件

1946年第一代是电子管计算机：ENIAC（electronic numerical integrator and computer）电子数字积分计算机

1958年第二代是晶体管计算机

1964年第三代是中小规模集成电路计算机

1971年是第四代大规模和超大规模集成电路计算机 ，出现了微型计算机

晶体管>门电路>触发器>寄存器>运算器或主存储器或控制器  **寄存器组成主存储器 寄存器构成控制器**

### 2.微型计算机的发展

1971年 inter公司世界上第一个

微处理器芯片 Inter 4004（16个引脚，2250个晶体管）

> 第一代：4位和低档8位微机（8008）

> 第二代：中高档8位微机（8080，8085）

> 第三代：16位微机（8088，8086）高档：80286                          **位代表一次性处理的二进制位**

> 第四代：32位微机（80386->80486->pentium）

> 第五代：64位微机 Itanium、64位RISC微处理器芯片 

**[RISC](https://baike.baidu.com/item/RISC?fromModule=lemma_inlink)和[CISC](https://baike.baidu.com/item/CISC?fromModule=lemma_inlink)是CPU从指令集的特点上可以分为两类：CISC和RISC。RISC是英文Reduced Instruction Set Computer的缩写[3] ，就是“精简指令运算集”，CISC就是“复杂指令运算集”**                             计算机指令系统的2种构架

### 3.微机的主要性能指标

> （1）字长：CPU一次同时传送和处理的二进制数码的个数 
>
> ​			位：bit 	 8位=1字节     字节：Byte 	字：Word     16位机中字长为16位=2B

> （2）主存容量：主存所能存储的全部二进制数码的位数
>
> ​			1024 = 1K = **2**^10 
>
> ​			1024*1024 = 1M = **2**^20
>
> ​			1024*1024 = 1G = **2**^30

> （3）主频f：CPU工作的时钟频率（CPU单位时间（秒）内发生的脉冲），HZ    **影响运算速度**   倒数是T（时钟周期），单位S
>
> ​			1K HZ = 10^3 HZ
>
> ​			1M HZ = 10^6 HZ
>
> ​			1G HZ = 10^9 HZ
>
>  eg：主频5MHZ的CPU（88/86），时钟周期 200 ns  
> $$
> T_clk = \frac{1}{5MHZ}=\frac{1}{5*10^6HZ}=200ns
> $$
> ​		 主频2GHZ的CPU，时钟周期 0.5 ns

## 二.微型计算机的组成

### 1.概念：

> 微处理器 （Micro processor）MP： 运算器（ALU） ， 控制器(CU) ， 寄存器组 (R) ，（现代）高速缓冲存储部件 片内cache
>
> > 微型计算机的CPU
>
> 微型计算机（硬件系统）（Micro computer） MC ：内存/主存（存储器），总线，输入输出接口电路，MP
>
> > 存储器 ROM （只读存储器） RAM（读写存储器）Cache（高速缓冲存储器）
>
> 微型计算机系统 （Micro computer system）MCS：外部设备和软件 , MP，MC

#### 1.主板结构

#### 2.总线（Bus）

##### （1）概念：

​	计算机系统各个部件之间传输信息（数据/地址/读写）的公共通道

##### （2）总线类型：

###### 1⃣️按照连接的部件：

> 片内总线：CPU内部各部件（ALU，CU，R，片内Cache）之间连接的总线
>
> 系统（内）总线 _(主板上)_(板级/局部总线)：CPU和系统中高速功能部件（主存，I/O接口等）相互连接的总线
>
> 外部（外）总线：通讯总线，中低速I/O设备相互连接的总线

###### 2⃣️按照出送信息种类（系统总线）

> 地址总线（Address Bus）
>
> 数据总线（Data Bus）
>
> 控制总线（Control Bus）

###### 3⃣️按数据传输方式

> 串行总线：USB
>
> 并行总线：主板上系统总线和PCI（局部总线）

###### 4⃣️按总线标准

> USB（通用串行总线）：外设总线标准
>
> 特点：支持即插即用和热拔插
>
> ​			支持多个不同设备的串行连接
>
> ​			独立供电，支持多媒体
>
> USB1.1最大理论数据传输率为12Mbps
>
> ​		2.0 480Mbps
>
> ​		3.0 5Gbps

IDE （电子集成驱动器）、SCSI （小型计算机系统接口）、SATA （目前硬盘和光驱的主要接口）接口总线：是硬盘和光驱接口标准

> PCI总线：外设部件互连标准
>
> ​				 可以通过桥连接多条PCI总线
>
> ​				 PCI总线上的设备可以与CPU并行工作
>
> ​				 PCI-E

> 总线的性能指标：
>
> > （1）总线带宽：数据传输率，单位bps
> >
> > （2）总线位宽（数据通道宽度）：同时传输的二进制位数；一次所能并行传送信息的位数
> >
> > （3）总线工作频率：MHZ

###### 5⃣️微机的软件系统

> 操作系统：DOS
>
> 编辑程序：EDIT.COM
>
> 汇编程序：MASM.EXE
>
> 链接程序：LINK.EXE
>
> 调试程序：DEBUG.EXE

###### 6⃣️冯 诺伊曼计算机设计思想

> 五大部件：运算器，控制器，寄存器，输入设备，输出设备
>
> 二进制：0，1
>
> 设计思想：（1）存储程序到主存 （2）CPU自动执行程序

###### 7⃣️IBM PC系列机系统

16位IBM PC系列机是32/64位微机的基础

## 三.计算机中数的表示

### 1.数制的表示 

十进制（Decimal）

>十个数码  如：1234.56 其含义
>$$
>1*10^ 3+2*10^2+3*10^1+4*10^0+5*10^-1+6*10^-2
>$$
>基数：10		序位：第几位（……，1，0，-1，……）	 权值：10几次方

二进制（Binary）

> 只有0，1两个数码
>
> 1010.11B的含义是 = 10进制的10.75
> $$
> 1*2^3+0*2^2+1*2^1+0*2^0+1*2^-1+1*2^-2
> =8+2+0.5+0.25=10.75
> $$
> CF   进位/借位标志位

十六进制 (Hexadecimal)

> 十六个数码：0～9，A，B，C，D，E，F
>
> 2C.8 19573524606 =10进制的44.5
> $$
> 2*16^1 + 12*16^0 + 8*16^-1 =32+12.5 =44.5
> $$

八进制（Octal）

> 八个数码：0～7
>
> 126. 4= 10 进制的86.5
>
> $$
> 1*8^2+2*8^1+6*8^0+4*8^-1=64+16+6+0.5=86.5
> $$

### 2.数制的转换

#### （1）非十进制数 - 十进制：

​	熟悉各整数和小数的次方

| 2的一次方 | 10      | 0.5    2的负一次方 | 0.1      |
| :-------: | ------- | ------------------ | -------- |
|     4     | 100     | 0.25               | 0.01     |
|     8     | 1000    | 0.125              | 0.001    |
|    16     | 10000   | 0.0625             | 0.0001   |
|    32     | 100000  | 0.03125            | 0.00001  |
|    64     | 1000000 | 0.015625           | 0.000001 |

#### （2）十进制数 -  二进制数：

整数部份：/2 取余       ～逆序～

小数部分：*2取整        ～正序～

<img src="/private/var/folders/wh/953_p0w17gd30jstk43mxxv40000gn/T/com.apple.Photos.NSItemProvider/version=1&uuid=EB861ABA-F02F-48F7-8A2A-1A40E23B3453&mode=compatible&noloc=0.jpeg/IMG_3154.jpeg" alt="IMG_3154" style="zoom:10%" /><img src="/private/var/folders/wh/953_p0w17gd30jstk43mxxv40000gn/T/com.apple.Photos.NSItemProvider/version=1&uuid=ECA14432-6BAE-4FF7-B73B-B9C8D625C775&mode=compatible&noloc=0.jpeg/IMG_3153.jpeg" alt="IMG_3153" style="zoom:10%;" />

#### （3）十进制 - 八进制

整数部份：/8 取余

小数部分：*8取整

#### （4）二进制 - 八进制

用三位二进制表示一位八进制数   2的三次方

| 0    | 000B |
| ---- | ---- |
| 1    | 001B |
| 2    | 010B |
| 3    | 011B |
| 4    | 100B |
| 5    | 101B |
| 6    | 110B |
| 7    | 111B |

例：1011011001.101B = 001 011 011 001.101 100B = 1331.54

#### （5）二进制 - 十六进制

2的四次方

| 0    | 0000B |
| ---- | ----- |
| 1    | 0001B |
| 2    | 0010B |
| 3    | 0011B |
| 4    | 0100B |
| 5    | 0101B |
| 6    | 0110B |
| 7    | 0111B |
| 8    | 1000B |
| 9    | 1001B |
| A    | 1010B |
| B    | 1011B |
| C    | 1100B |
| D    | 1101B |
| E    | 1110B |
| F    | 1111B |

100 = 01100100B = 64H

255 =11111111B = FFH

128 = 10000000B =80H

### 3.机器数的表示

> 定点数  
>
> > 整数 
> >
> > > 有符号数 
> > >
> > > > 机器码表示及运算
> > > >
> > > > 原，反，补
> >
> > > 无符号数
>
> > 纯小数 （小数点隐藏在符号位和最高位之间）：有符号数 

> 浮点数
>
> > 阶码：整数
> >
> > 尾数：纯小数

#### （1）定点表示法

规则：所有数据的小数点位置固定不变

#### （2）无符号数表示

整个机器字长的全部二进制位均用来表示数值

8位机中0～255 	16位机中0～65535

**对于字长为n位的无符号数的表示范围：0～（2的n次方-1）**

#### （3）有符号数表示

真值：数值数据的实际值，即带有+，-符号

机器码：用二进制编码表示（原，反，补，移）

原，反，补的共性：

> 正数：三种编码值一样
>
> 负数：编码不同
>
> 最高位为符号位：0 正 1 负

##### 1⃣️原码表示法：

> 符号位：0表示正 1表示负
>
> 数值部份：与真值的二进制形式一样
>
> 零有两种表示：+0，-0
>
> $ [+0]_原= 0 0000000 =00H $                $[-0]_原 =10000000=80H$
>
> 8位定点整数原码的范围是：-127～+127（FFH～7FH）

##### 2⃣️反码表示法

> 符号位：0表示正 1表示负
>
> 数值部份：正数：与原码相同
>
> ​					负数：将原码的数值位取反
>
> $ [+0]_反= 0 0000000$               $[-0]_反 =11111111$
>
> 8位定点整数反码的范围是：-127～+127

##### 3⃣️补码表示法

> 符号位：0表示正 1表示负
>
> 数值部份：正数不变
>
> ​					负数是在反码的基础上末位+1
>
> 补码特征：零的表示唯一，$[\pm0]_补=00000000=00H	$
>
> 补码加减法运算中，符号直接参与运算
>
> 8位定点整数补码的范围是：-128～+127 （80H～7FH）

##### 4⃣️移码表示法

> 移码通常用于表示浮点数的阶码（整数）
>
> 正数：符号位为“1”，其余位不变
>
> 负数：符号位1表示正，0表示负
>
> 数值部份：与补码数值部份相同
>
> **移码与补码的符号位相反，其他位相同**

##### 三种机器数的比较总结：

（1）最高位都表示符号位

（2）对于真值0，补码只有唯一的一种表示形式

（3）原反补表示的正负范围是对称的

定点整数的表示范围：

​	若机器字长有n+1位，则：

原码定点整数的表示范围：$-（2^n-1）$ ~ $(2^n-1)$

补码定点整数的表示范围：$-（2^n）$ ~ $(2^n-1)$

机器字长16位，则原-32767～+32767

​								反-32768～+32767

| 机器码 |          原码          |           反码           |  补码  |           移码            |
| :----: | :--------------------: | :----------------------: | :----: | :-----------------------: |
|  正数  | 符号位：0 其余位同真值 |          同原码          | 同原码 |          同原码           |
|  负数  | 符号位：1 其余位同真值 | 符号位不变，其余各位取反 | 反码+1 | 符号位为0，其余各位取反+1 |

$[[X]_补]_补 = [X]_原$

总结：

1.n位定点整数包括1位符号位，n-1位数值位

2.不足n位时，原码整数在符号位和最高数值位之间补0，小数在最低位后补0 

### 4.机器数的运算--补码加减法

补码加法：$[x+y]_补 =[x]_补+[y]_补$

补码减法：$[x-y]_补 =[x]_补+[-y]_补$

$[y]_补$  包含符号位，各位取反末尾+1   = 	$[-y]_补$

##### 例（求分数）：

已知符号数$[X]_补$，求$[X/2]_补$

$[X]_补$=1 0 1 0 1 0 0 0 

$[X/2]_补$ =1 1 0 1 0 1 0 0 

**有符号数：右移一位（/2），最高位补原符号位**

​					**左移一位（*2），最低位补0**

##### tips 关系：

​	  	$[-8]_补 =F8H$

​	  	$[-4]_补 =FCH$

​	  	$[-2]_补 =FEH$

  		$[-1]_补 =FFH$

### 5.运算结果溢出判断

#### （1）有符号数溢出概念：

负（下）溢		正（上）溢

#### （2）检测方法

正+正 = 负，上溢（大于机器所能表示的最大数）

负+负 = 正，下溢

两种溢出检测方法均可使用异或门（$\oplus$）实现

#### （3）无符号溢出

1.真值十进制是否超范围

2.CF=1表示溢出 =0表示无溢出 （与溢出标志位无关）

### 6.数据的编码

#### （1）ASCLL

使用7位二进制数来表示所有大小写字母，数字0-9，标点符号，以及特殊控制字符

‘0’-‘9’ 30H-39H	 	‘A’-‘Z’ 41H-60H 		‘a’-‘z’ 61H-80H

#### （2）BCD（Binary coded Decimal）

用4位二进制数表示1位十进制数，表示十进制数0-9的数字

eg：5=$(0101)_{BCD}$			 59 =$（0101 1001）_{BCD}$

##  四.微型计算机的工作过程

### （1）三种基本逻辑电路

与门：实现“与运算”的电路

<img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/1451673134140_.pic.jpg" alt="1451673134140_.pic" style="zoom:50%;" />

或门：逻辑表达式为：F=A+B

<img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/1461673135353_.pic.jpg" alt="1461673135353_.pic" style="zoom:50%;" />

非门（反相器）：

<img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/1471673136071_.pic.jpg" alt="1471673136071_.pic" style="zoom:50%;" />



![1481673136213_.pic](/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/1481673136213_.pic.jpg)

异或：相同为0 不同为1

### （2）工作过程

1.取指令：CPU从内存中取指令

2.分析指令：在CPU的ALU执行

3.取操作数：

4.执行指令：

5.保存结果：CPU-内存-外存

# 第二章 ：十六位微处理器

2.18088/8086微处理器

2.28088/8086CPU引脚

2.3 8088/8086CPU两种工作模式的配置

2.4 8088/8086CPU主要操作

2.5 8088/8086系统的中断

## 88/86微处理器知识范围

1.86/88CPU 的内部结构和外部引线

2.86/88CPU 的工作方式

3.86/88CPU系统总线的形成

4.总线操作及时序

## 1.8088/8086微处理器

### 一.CPU的基本结构

<img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/1491673137968_.pic.jpg" alt="1491673137968_.pic" style="zoom:50%;" />

<img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/1511673139740_.pic.jpg" alt="1511673139740_.pic" style="zoom:60%;" />

### 二、8088/8086的功能结构

总线接口单元BIU（Bus Interface Unit）

执行单元EU（Excution Unit）

两个单元相互独立，各自操作，**_并行执行_**，实现指令预取（指令队列）（流水线）。

>88/86两个单元的功能：
>
>1.BIU：负责CPU对主存和外设接口进行访问（取/送）
>
>1⃣️ 从内存取指令送至指令队列
>
>4⃣️ 从内存或I/O接口取操作数
>
>7⃣️ 从BIU送结果至内存或外存
>
>2.EU：负责指令的译码，执行和数据的运算
>
>2⃣️ 从指令队列取指令送控制器，分析，译码
>
>3⃣️ 在运算器处理加工
>
>5⃣️ 操作数送ALU，在ALU处理
>
>6⃣️ 送结果到BIU

<img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/1521673141576_.pic.jpg" alt="1521673141576_.pic" style="zoom:50%;" />

![1531673141762_.pic](/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/1531673141762_.pic.jpg)

#### 流水线技术： 

两个功能部件并行工作，减少CPU为取指令而等待的时间，提高CPU的利用率和系统运行速度

#### 指令队列：

> 采用“先进先出”原则
>
> 减少了CPU为取指令而等待的时间
>
> 降低了对存储器存取速度的要求

### 三、8088/8086的寄存器组有14个：

#### 1.通用寄存器（在EU）

88/86有8个通用的16位寄存器

> （1）数据寄存器：AX：累加器（Accumulator），BX：基址寄存器（Base address Register），
>
> ​								  CX：计数器（Count），DX：数据寄存器（Data register）
>
> （2）变址寄存器：SI：源地址寄存器（Source	Index），DI：目的地址寄存器（Destination Index）
>
> ​								在串操作类指令中，SI，DI还有较特殊用法
>
> （3）指针寄存器：寻址内存堆栈（Stack）内的数据
>
> ​								  SP（Stack Point），BP（Base Point）
>
> ​								  SP和BP与SS段寄存器联合使用
>
> 8个八位寄存器
>
> AX：AH	AL	，BX：BH	BL，	CX：CH	Cl，	DX：DH	Dl

堆栈原则：采用“先进后出”或“后进先出”存取操作方式、而不是随机存取方式（主存RAM）

​					在88/86微机系统中，堆栈区域被称为堆栈段

#### 2.段寄存器（在BIU）

4个16位段寄存器

>代码段寄存器CS（Code Segment）
>
>堆栈段寄存器SS（Stack Segment）
>
>数据段寄存器DS（Data Segment）
>
>附加段寄存器ES（Extra Segment）

#### 3.指令指针寄存器（在BIU）

IP（Instruction Pointer）

IP寄存器是一个CPU **_专用_** 寄存器

由CS（指令代码）：IP确定下一条指令的地址

#### 4.标志寄存器（在EU）

标志（Flags）			程序状态字PSW

用于反映指令执行结果或控制标志的状态

> 16位 有效9位
>
> > 6位：状态标志位	CF：进位标志位（Carry Flag）
> >
> > ​											当运算结果的最高有效位有进位或借位时CF=1；否则CF=0
> >
> > ​								  ZF：零标志位（Zero Flag）
> >
> > ​											若运算结果为0，则ZF=1；否则ZF=0
> >
> > ​								   SF：符号标志位（Sign Flag）
> >
> > ​											运算结果最高位为1，则SF=1；否则SF=0	
> >
> > ​								   PF：奇偶标志位（Parity Flag）
> >
> > ​											当运算结果_**最低字节**_中“1”的个数为零或者偶数时，PF=1；否则PF=0
> >
> > ​							   	OF：溢出标志位（overflow flag）
> >
> > ​											若算数运算的结果有溢出，则OF=1；否则OF=0
> >
> > ​											处理器内部以补码表示有符号数
> >
> > ​											8位整数范围：-128～+127
> >
> > ​											16位整数范围：-32768～+32767
> >
> > ​											如果运算结果超出这个范围，就产生溢出，有溢出，说明有符号数的运算结果不正确
> >
> > ​								   AF：辅助进位标志（Auxiliary Carry Flag）
> >
> > ​											运算时$D_3$位（低半字节）有进位或借位时，AF=1；否则AF=0
> >
> > 3位：控制标志位	 DF：方向标志位（Direction Flag）
> >
> > ​											串操作指令，控制地址的变换方向：CLD：DF=0，地址自动增加
> >
> > ​																											STD：DF=1，地址自动减少
> >
> > ​								   IF：中断允许标志位（INterrupt-enable Flag）（对外中断有效）
> >
> > ​											控制可屏蔽中断是否响应：CLI：IF=0，禁止中断
> >
> > ​																							STI：IF=1，允许中断
> >
> > ​							 	 TF：陷阱标志位（Trap Flag）
> >
> > ​											单步标志
> >
> > ​											处理器在**<u>每一条指令执行结束</u>**时，产生一个编号为1的内部中断
> >
> > ​											TF=1，单步中断
> >
> > ​											逐条指令调试程序的方法就是单步调试
> >
> > ![1541673144970_.pic](/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/1541673144970_.pic.jpg)
> >
> > ![1551673410828_.pic](/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/1551673410828_.pic.jpg)
>
> 溢出判断规则：
>
> 方法1:真值超范围
>
> 方法2:同号相加（异号相减）
>
> 方法3:双进位
>
> > 同时有/无进位时OF=0
> >
> > 只有1个进位时	OF=1
>
> 溢出和进位的区别
>
> ​		OF和CF：意义不同
>
> ​		进位标志： 表示无符号数运算结果是否超出范围，运算结果仍然正确
>
> ​		溢出标志： 表示有符号数运算结果是否超出范围，运算结果已经不正确

## 2.8088/8086CPU引脚

![1561673430881_.pic](/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/1561673430881_.pic.jpg)

$A_0～A_{19}$	地址总线 （16～2，39～35）			$D_0～D_7$	低8位数据总线 （16～9）$D_8～D_{15}$	高8位数据总线 （8～2，39）

$D_0～D_7$	数据总线 （16～9）

一般不带— 高电平为1的时候有效，带—表示低电平为0有效 								BHE=0高八位有效

### （1）引脚的功能

#### 一、8088最小工作模式的引脚信号

##### 1.数据和地址复用

###### $AD_7～AD_0$（Address/Data）

地址/数据分时复用，双向，三态，外部锁存

> 分时复用：一个引脚在不同的时刻具有两个甚至多个作用；
>
> 总线复用的目的是为了减少对外引脚个数

<img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/1571673441371_.pic.jpg" alt="1571673441371_.pic" style="zoom:45%;" /><img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/1581673441416_.pic.jpg" alt="1581673441416_.pic" style="zoom:33%;" /><img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/1591673441621_.pic.jpg" alt="1591673441621_.pic" style="zoom:40%;" />访问主存时空间比较大$2^{20}=1M$ 访问外设时空间缩小64K

地址线决定访问芯片的容量

##### 2.读写控制

###### （1）ALE（Address Latch Enable）：

地址锁存允许，输出、三态、高电平有效

表示复用引脚$AD_7 ～ AD_0$和$A_19/S_6～A_{16}/S_3$正在传送地址信息<img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/1601673443037_.pic.jpg" alt="1601673443037_.pic" style="zoom:60%;" />

​	ALE在T1时由高➡️低（下降沿）时，20位$A_0～A_7 $   	$A_8～A_{15}$	$A_{16}～A_{19}$锁进锁存器中

###### （2）IO/$\overline{M}$（Input and Output/Memory） 

​						CPU访问外设/主存				28号引脚 = 1 CPU访问的是外设

I/O或存储器访问，输出、三态；      

<img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/1611673576261_.pic.jpg" alt="1611673576261_.pic" style="zoom:40%;" /><img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/1621673576539_.pic.jpg" alt="1621673576539_.pic" style="zoom:40%;" />

###### （3）$\overline{WR}$（Write）

写控制，输出、三态、低电平有效；	CPU把信息写到主存/I/O接口

###### （4）$\overline{RD}$（Read）

读控制，输出、三态、低电平有效；	CPU从主存/I/O接口读取数据

<img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/1631674116646_.pic.jpg" alt="1631674116646_.pic" style="zoom:50%;" />

###### （5）Ready：

就绪，输入，高电平有效;

CPU在总线周期的$T_3$中的（前沿），测试；

> Ready = 1，下一步
>
> Ready = 0，CPU将插入等待周期![1681674781635_.pic](/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/1681674781635_.pic.jpg)

###### （6）$\overline{DEN}$（Data Enable）

数据允许，输出、三态、低电平有效

有效时，表示当前数据总线上正在传送数据

###### （7）DT/$\overline{R}$（Data Transmit/Receive）

数据发送/接受，输出、三态

表明当前总线上数据的流向

##### 3.中断请求和响应

###### （1）INTR（Interrupt Request）

可屏蔽中断请求，输入、高电平有效

有效时，表示请求设备向CPU申请可屏蔽中断；

是否有效受控于IF（中断允许标志）

> IF = 1 时 开中断  													= 0 关中断
>
> INTE 接收中断请求信号										被屏蔽

###### （2）$\overline{INTA}$（Interrupt Acknowledge）

可屏蔽中断响应，输出，低电平应有效；

有效时，CPU进入中断响应周期

###### （3）NMI（Non-Maskable Interrupt）

不可屏蔽中断请求，输入，上升沿有效；

处理掉电等系统故障；

不能被CPU屏蔽；

优先级高于INTR；

|            | NMI               | INTR              |
| ---------- | ----------------- | ----------------- |
| 名称       | 非屏蔽中断响应    | 可屏蔽中断请求    |
| 中断类型   | 外中断            | 外中断            |
| 中断类型号 | 2号               | n号（外设）       |
| IF         | 无关              | IF=1 开；IF=0 关  |
| 触发方式   | 上升沿            | 高电平            |
| 响应信号   | 无响应            | $\overline{INTA}$ |
| 响应条件   | 本条指令执行结束= | 指令周期结束；    |

##### 4.总线请求和响应

###### （1）HOLD

总线请求，输入，高电平有效；

表示总线请求设备向CPU申请占有总线；

通知CPU收回对总线的控制权；

###### （2）HLDE（HOLD Ackonwledge）

总线响应，输出，高电平有效；

表示CPU已响应总线请求并已将总线释放；

此时CPU的地址总线，数据总线及具有三态输出能力的控制总线将全面呈现高阻。

<img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/1691674888324_.pic.jpg" alt="1691674888324_.pic" style="zoom:60%;" />

##### 5.其他引脚

###### RESET

复位请求，输入，高电平有效

该信号有效，将使CPU初始化（14个寄存器，13个清零，一个置全1）

86/88复位后C S=FFFFH、IP=0000H

###### CLK（Clock）

时钟输入

给CPU提供内部定时信号

###### Vcc：电源输入，向CPU提供+5V电源

###### GND ： 接地

MN/$\overline{MX}$(Minimun/Maximum)

工作模式选择，输入

接高电平时，86/88工作在最小模式，反之在最大模式。

##### “引脚”小结

CPU引脚分成3类系统信号总线：

8088:8位数据线：$D_0$~$D_7$											决定运

8086:16位数据线：$D_0$~$ D_7$，$D_8$~$D_{15}$						输能力

20位地址线：$A_0$~$A_19$											决定主存容量

控制线：ALE、IO/$\overline{M}$(8086:M/$\overline{IO}$)、$\overline{WR}$、$\overline{RD}$、READY、INTR、$\overline{INTA}$、NMI

​				HOL D、HLDA

​				RESET、CLK、Vcc、GND

###### 地址总线（AB）

单向，三态总线，用于传送地址信息；

其位数决定可直接寻址范围：

<img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/1701674896227_.pic.jpg" alt="1701674896227_.pic" style="zoom:60%;" />

###### 8088与8086区别：

<img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/1711674896318_.pic.jpg" alt="1711674896318_.pic" style="zoom:60%;" />

##### 本节考核要求

1. 掌握8086/8088 CPU的功能结构及流水线技术，理解流水线管理规则
2. 掌握8086/8088 CPU寄存器的组成及其应用
3. 掌握8086/8088 CPU的引脚结构，理解其引脚复用的特性

## 3.8088/8086CPU两种工作模式的配置

### 一、两种工作模式

![1721674898495_.pic](/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/1721674898495_.pic.jpg)

#### 最小工作模式

1.单机系统，单个处理器（8088/8086）

2.定点运算

#### 最大工作模式

1.多机系统，除了主处理器还有协处理器（8087浮点处理器专门进行浮点运算/8089输入/输出数据传送）

2.定点运算，浮点运算和外设数据传送（IOP=8089）

3.总线控制器（芯片：8288），总线仲裁器 8289

#### 两种模式利用MN/$\overline{MX}$引脚区别：

MN/$\overline{MX}$接高电平为最小组态/模式

MN/$\overline{MX}$接低电平为最大组态/模式

IBM  PC/XT（核心是8088）采用最大组态

### 二、8088最小模式的总线形成

<img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/1731674963603_.pic.jpg" alt="1731674963603_.pic" style="zoom:60%;" />

#### 1.20位地址总线形成

采用三片8282进行_锁存_和_驱动_

Inter 8282是三态透明锁存器 	、	Inter 8283 、通用集成电路芯片74LS373

#### 2.8位数据总线形成

数据收发器8286进行双向驱动、缓冲

Inter 8286是8位三态双向缓冲器、 	Inter 8287、通用数字集成电路74LS245等

接口电路中也经常使用三态单向缓冲器74LS244

#### 3.系统控制信号的形成

由86/88引脚直接提供 例如IO/$\overline{M}$,$\overline{WR}$,$\overline{RD}$等

### 三、8088最大模式下的总线形成

<img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/1741674968394_.pic.jpg" alt="1741674968394_.pic" style="zoom:60%;" />

<img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/1751674969663_.pic.jpg" alt="1751674969663_.pic" style="zoom:60%;" />

##### 最大模式下的系统总线形成

##### （1）地址总线：

采用74LS373和74LS244

##### （2）数据总线：

通过74LS245形成和驱动

##### （3）控制总线：

主要由总线控制器8288形成		$\overline{MEMR}$	$\overline{MEMW}$	$\overline{IOR}$	$\overline{IOW}$ 	$\overline{INTA}$

### 四、8086最小模式下的总线形成

<img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/1771674971290_.pic.jpg" alt="1771674971290_.pic" style="zoom:60%;" />

### 五、8086最大模式下的总线形成（补充）

<img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/1781674971794_.pic.jpg" alt="1781674971794_.pic" style="zoom:60%;" />

## 4.8088/8086CPU主要操作

时序（Timing）：信号高低电平（有效或无效）变化及相互间的时间顺序关系

总线操作： 是指CPU通过总线对其他部件的各种操作

### 一、基本概念

##### 指令周期：

1⃣️完成一条指令的时间，包括取指令（用到总线周期），分析、译码、执行、传送结果（用到总线周期）的时间

2⃣️包括若干个总线周期

##### 总线周期：

1⃣️88/86基本总线周期需要4个时钟周期。

2⃣️指CPU完成一次读/写的过程；指CPU启动一次总线，完成一次读/写的时间

##### 时钟周期：

T 主频的倒数

##### 等待状态：

当ready = 0 时，需要延长总线周期，在$T_3$和$T_4$之间插入等待状态$T_w$

##### 空闲状态	Ti：

<img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/1801674974049_.pic.jpg" alt="1801674974049_.pic" style="zoom:60%;" />

### 二、最小模式的总线时序

#### 微处理器最基本的4种总线周期：

##### 1.存储器读总线周期：

<img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/1811674974420_.pic.jpg" alt="1811674974420_.pic" style="zoom:60%;" />

##### 2.存储器写总线周期：

<img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/1821674974451_.pic.jpg" alt="1821674974451_.pic" style="zoom:60%;" />

##### 3.I/O读总线周期：

<img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/1831674974523_.pic.jpg" alt="1831674974523_.pic" style="zoom:60%;" />

##### 4.I/O写总线周期：

<img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/1841674974542_.pic.jpg" alt="1841674974542_.pic" style="zoom:60%;" />

##### 5.8086系统读总线周期

<img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/1851674974974_.pic.jpg" alt="1851674974974_.pic" style="zoom:60%;" />

##### 6.8086系统写总线周期

<img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/1861674975007_.pic.jpg" alt="1861674975007_.pic" style="zoom:60%;" />

### 三、启动/复位

86/88CPU的RESET引脚用来使CPU复位/启动。

<img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/1871674975280_.pic.jpg" alt="1871674975280_.pic" style="zoom:60%;" />

## 5.8088/8086系统的中断系统

#### 1.中断：

 CPU执行程序时，由于内部或外部事件的原因引起CPU暂时终止当前程序的运行，转而去执行中断服务子程序，当子程序执行结束后返回原程序的过程。

#### 2.中断源：

引起中断的时间或原因，包括外设故障和CPU内部执行时出现的异常。

> 外中断（硬件中断）
>
> > 可屏蔽中断：INTR
> >
> > 非屏蔽中断：NMI
>
> 内中断（软件中断）	在程序中

#### 3.中断类型：

包括外部中断和内部中断

8088/8086系统能够处理256个中断

#### 4.中断类型号（中断向量号）：

用0～255（00H～FFH）给256种中断分配编号；

###### 不同类型的中断源，CPU获取中断号的方法不同：

> 可屏蔽中断INTR的中断号由8259中断控制器提供；
>
> 指令中断（INT n）的中断号由指令直接给出；
>
> 非屏蔽中断（NMI），其他内中断由系统预设。
>
> CPU获取中断源的时候还可以使用：向量查询法，中断向量表

#### 5.中断向量：

中断服务子程序的入口地址，用逻辑地址CS：IP表示（子程序的第一条指令地址）

#### 6.中断向量表：

存放中断向量的内存空间；

256个中断向量，每个向量占4个字节，共占用1KB

<img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/1891674990602_.pic.jpg" alt="1891674990602_.pic" style="zoom:60%;" />

<img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/1901674990602_.pic.jpg" alt="1901674990602_.pic" style="zoom:60%;" />

每个中断向量的底字是偏移地址（IP），高字是段地址（CS），需要占用4个字节；

物理地址00000H～003FFH地址中依次安排各个中断向量，向量号从0开始；

向量号为n的中断向量的物理地址 = n*4

容量 = 末地址+1 - 首地址

逻辑地址 = 段地址 ： 偏移地址

物理地址 = 段地址 *16 + 偏移地址

<img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/1911674996772_.pic.jpg" alt="1911674996772_.pic" style="zoom:60%;" />

<img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/1921674997650_.pic.jpg" alt="1921674997650_.pic" style="zoom:60%;" />

### 二、中断类型

<img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/1931675137251_.pic.jpg" alt="1931675137251_.pic" style="zoom:60%;" />

#### 1.内部中断

CPU内部执行程序出现异常引起的程序中断；

##### （1）除法错中断

在执行除法指令时，若除数为0或商超过了所能表达的范围（$\frac{字（0-65535）}{字节} =字节（0-255）$，$\frac{字}{字节} \neq 字$），则产生向量为0内部中断。

##### （2）指令中断

在执行INT n （中断指令）（n：中断类型号）时产生一个向量号为n（0～255）的内部中断

##### （3）断点中断

向量号为3的指令中断<img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/1941675230142_.pic.jpg" alt="1941675230142_.pic" style="zoom:40%;" />

##### （4）溢出中断

在执行INTO（中断指令）时，若OF=1，则产生一个向量号为4的内部中断

##### （5）单步中断

若TF=1，则在每条指令执行结束后产生一个向量号为1的内部中断

优先级0>3>4>n>1

#### 2.外部中断

>由于86/88外部提出中断请求引起的中断；
>
>利用外中断，微机系统可以*事实响应*，你能够及时处理外部意外或紧急事件；
>
>包括INTR 和 NMI
>
>外中断是外设随机产生的，是真正的中断（Interrupt）；
>
>内中断是执行程序时出现的，常被称为异常（Exception）；

##### （1）非屏蔽中断的特点

> 通过NMI向CPU提出的中断请求
>
> CPU无法禁止 (非屏蔽)，
>
> 在当前指令执行结束后予以响应，中断向量号为2。
>
> 主要用于处理系统的意外或故障。
>
> ​			例如:电源掉电前的数据
>
> ​					 保护存储器读写错误的处理

##### （2）可屏蔽中断的特点

1⃣️外设通过INTR向CPU提出中断请求

在允许中断、当前指令执行结束后予以响应，输出$\overline{INTA}$

2⃣️IF=1，开中断，允许响应;IF=0，禁止中断。

3⃣️向量号由8259提供。

4⃣️主要用于主机与外设交换数据

##### （3）中断标志IF的状态

IF=0: 可屏蔽中断不会被响应

>关中断、禁止中断、中断屏蔽
>
>系统复位，使IF=0
>
>中断被响应，使IF=0
>
>执行指令 CLI，使IF=0

IF=1: 可屏蔽中断会被响应

>开中断、允许中断、中断开放
>
>执行指令STI，使IF=1

执行指令IRET恢复原IF状态

### 三、中断优先级

<img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/1981675251947_.pic.jpg" alt="1981675251947_.pic" style="zoom:60%;" />

<img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/1991675643272_.pic.jpg" alt="1991675643272_.pic" style="zoom:60%;" />

### 四、中断过程

一个完整的中断过程一般经历一下五个步骤：

>中断请求
>
>中断优先级判定
>
>中断响应
>
>中断处理
>
>中断返回

#### 1.中断响应流程图

<img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/2001675643754_.pic.jpg" alt="2001675643754_.pic" style="zoom:60%;" />

#### 2.中断响应过程

CPU在每执行完一条指令后，如果允许CPU响应，则CPU自动完成以下工作:

1⃣️取中断类型号N。启动中断响应总线操作，在第2个中断响应总线周期读取中断类型号N。

​																				在$\overline{INTA}$中8259芯片通过D0-D7的数据总线提供给CPU

2⃣️标志寄存器入栈。执行1个总线写周期，将PSW的内容压入堆栈。

​									PSW：16  使用写总线周期 送入内存

3⃣️清除IF和TF标志。禁止硬件中断和单步中断，使IF=0和TF=0

4⃣️CS和IP入栈。执行2个总线写周期，依次将CS和IP内容压入堆栈。

5⃣️获取中断向量。执行2个总线读周期，在中断向量表中的N*4开始的单元取两个字分别送IP和CS，获取中断处理程序入口地

址。CPU从新的CS:IP值开始执行中断处理子程序。

#### 3.中断响应时序图

<img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/2041675647689_.pic.jpg" alt="2041675647689_.pic" style="zoom:60%;" />

### 五、中断服务程序的一般构成

开中断、保护现场、中断服务、恢复现场、中断返回

## 中断考核要求

深入理解中断的概念

了解 8086 系统中断源的分类

掌握 8086CPU 对它们的管理方法

掌握中断全过程包含的步骤

掌握 8086CPU 响应中断的条件及响应过程

理解中断服务程序的一般构成

# 第三章存储器系统

### （一）知识范围

1.存储器体系相关概念

2.半导体存储器的分类及其特点

3.8086/8088的存储器结构

4.常见半导体存储芯片的外部特性及其与系统的连接存储器接口设计 (存储器扩展技术) 

5.高速缓存

### （二）考核要求

1.理解存储器三级存储体系的构成:

​		外存、内存、高速缓冲存储器的概念

2.理解 8086/8088CPU 的内存分配掌握实地址模式下的存储器地址变换方法

3.掌握存储器的性能指标，半导体存储器的分类

4.理解静态与动态存储器的构成及其特点

5.掌握典型的存储芯片(SRAM 6264、DRAM 2164)

6.了解高速缓冲存储器

## 3.1存储器概述

### 一、分类

#### 1.按在计算机系统中的作用

（1）高速缓冲存储器：Cache

（2）主存储器（内存）

（3）辅助存储器（外存）

#### 2.按存取方式

(1) 随机存取存储器RAM:

​		CPU对存储单元的内容随机读写访问。如主存。

(2)只读存储器ROM:

​		只能读出而不能写入。如BIOS。

(3) 顺序存取存储器SAM:

​		只能按某种顺序存取，存取时间与信息在存储体上的物理位置有关如磁带

(4)直接存取存储器DAM:

​		信息的存取需要定位磁道和扇区: 如硬盘。

#### 3.按存储介质

（1）半导体存储器

​		主要有MOS和双极型，如内存和高速缓存

（2）磁表面存储器

（3）光存储器

#### 4.按信息的可保存性

易失性存储器:		断电后，存储信息即消失的存储器。如RAM

非易失性存储器:	断电后信息仍然保存的存储器。如ROM、磁盘、光存储器。

破坏性读出:			信息读出时，原存信息被破坏。

非破坏性读出 :		读出时，原存信息不被破坏。

### 二、存储系统的层次结构

#### 1.存储层次

为了解决容量、速度和价格之间的矛盾，将不同存储器组织成一个存储系统。

实现:大容量、高速度、低成本

#### 2.三级存储系统结构+两种存储层次

<img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/2141675831118_.pic.jpg" alt="2141675831118_.pic" style="zoom:60%;" />

#### 3.计算机中的多级存储层次

<img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/2151675831729_.pic.jpg" alt="2151675831729_.pic" style="zoom:60%;" />

##### 寄存器、cache、内存和外存的区别

寄存器是CPU内部暂存数据的单元，如:AX，BX等;

Cache位于CPU和内存之间，可直接与CPU进行数据交换解决内存速度不足的问题

内存也叫主存，可直接与CPU进行数据交换。

外存主要用来长久保存数据，如硬盘、光盘、U盘等。外存的数据只能通过主存间接地与CPU交换数据。

## 3.28086/8088系统存储器的组织

### 1.数据的存储格式

#### （1）计算机中信息的单位

位 bit

字节Byte			8bit=1B

字Word				8086 ：16位 = 2B = 1字

双字Dword 		32位 =4B =2字

#### （2）88/86的信息表示

<img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/2171675833228_.pic.jpg" alt="2171675833228_.pic" style="zoom:50%;" />

#### （3）88/86系统存储器的容量

由于86/88CPU有20条地址线

最大寻址空间为$2^{20}$=1MB=1M*8位

每个存储单元所对应的地址是20位的物理地址，范围从00000H～FFFFFH

字存储单元存放16位

字节存储单元存放8位

#### （4）88/86的存储格式

采用“低对低、高对高”的存储形式，

被称为“小端方式 Little Endian”(相对应大端方式 Big Endian”）

每个存储单元都有一个编号: 存储器地址

每个存储单元存放一个字节

<img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/2191675958024_.pic.jpg" alt="2191675958024_.pic" style="zoom:50%;" /><img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/2201675958024_.pic.jpg" alt="2201675958024_.pic" style="zoom:50%;" />

#### （5）多字节数据存放方式

占连续的多个存储单元：

​		低字节存入低地址，高字节存入高地址；

​		用低地址表示多字节数据占据的地址空间

<img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/2211675962535_.pic.jpg" alt="2211675962535_.pic" style="zoom:60%;" />

### 2.88/86CPU存储器的分段管理

16位寄存器，16位处理单元

20条地址线访问$2^{20}$=1MB

将1M空间分成4个逻辑段（Segment）

> 每个段最大64KB
>
> 段内偏移地址的范围为0000H～FFFFH
>
> 段首个地址一般从小节（XXX0H）开始

一个存储单元可以用一个唯一的物理地址和多个逻辑地址来表达

#### （1）概念

物理地址：CPU访问的内存单元地址

​					在CPU的BIU的物理地址加法器形成

​					20位（A0～A19）

​					=段地址*16+偏移地址				实地址

逻辑地址：程序中使用的地址

​					16位					16位

​					段地址 * 16 ： 偏移地址			虚地址

<img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/2221676001347_.pic_hd.jpg" alt="2221676001347_.pic_hd" style="zoom:33%;" />

#### （2）逻辑地址组成

段地址：

> 4个逻辑段在主存中的起始位置。
>
> 段地址用16位段寄存器保存

偏移地址：

> 主存单元距段起始位置的偏移量
>
> 每段不超过64KB，偏移地址用16位数据表示。
>
> 保存在IP、DI、SI、BP、SP等16位寄存器中

#### （3）逻辑地址到物理地址的转换

将逻辑地址中的段地址左移4位，加上偏移地址就得到20位物理地址

​						物理地址=段地址 * 16+偏移地址

在BIU的物理地址加法器中形成

一个物理地址可以有多个逻辑地址。

#### （4）如何分配各个逻辑段

指令序列必须安排在代码段CS：IP

程序使用的堆栈一定在堆栈段SS： SP/BP

数据默认安排在数据段，DS: EA

串操作的目的区必须是附加段，ES: EA

数据的存放可以存放在任何一种逻辑段中

### 二、8086系统中主存储器的分体结构

#### 1.为什么采用分体结构

存储体以8位 (1B)为基本存储单位;

访问一个字节时，只用16位数据线中的8位;

访问一个字时，16位数据线的高8位和低8位同时访问两个存储单元	提高了CPU的效率。

<img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/2271676008232_.pic.jpg" alt="2271676008232_.pic" style="zoom:60%;" />

#### 2.如何划分奇偶体

在8086系统中，将总容量为1MB的存储器分为奇地址存储体和偶地址存储体，各为512KB。

奇体与高8位 (D15~D8)相连;

偶体与低8位 (D7~D0)相连；

选择奇体还是偶体由信号$\overline{BHE}$、A0决定

$\overline{BHE}$ = 0 、A0 = 1：选择奇体

$\overline{BHE}$ = 1 、A0 = 0：选择偶体

<img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/2291676015243_.pic.jpg" alt="2291676015243_.pic" style="zoom:60%;" />

#### 3.两个字的概念：

##### （1）对准好的字（规则字）：

从偶地址开始的字。

<img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/2301676019878_.pic.jpg" alt="2301676019878_.pic" style="zoom:50%;" />

##### （2）未对准好的字（非规则字）：

从奇地址开始的字

<img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/2311676024586_.pic.jpg" alt="2311676024586_.pic" style="zoom:60%;" />

<img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/2321676025071_.pic_hd.jpg" alt="2321676025071_.pic_hd" style="zoom:60%;" />

<img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/2331676025247_.pic.jpg" alt="2331676025247_.pic" style="zoom:60%;" />

在86系统中，读/写规则字只需要一个总线周期；

​						读/写非规则字需要两个总线周期；

所以为了加快程序运行速度编程时应注意从偶地址开始存放字数据

## 3.3半导体存储器

主存和Cache采用半导体存储器

### 一、半导体存储器的分类

##### 按制造工艺

双极型:速度快、集成度低、功耗大

MOS型:速度慢、集成度高、功耗低

##### 按使用属性

RAM:可读可写、断电丢失

ROM:正常只读、断电不丢失

##### 半导体存储器

>随机存取存储器（RAM）
>
>> 静态RAM（SRAM）
>>
>> 动态RAM（DRAM）
>>
>> 非易失RAM（NVRAM）
>
>只读存储器（ROM）
>
>> 掩膜式ROM
>>
>> 一次性可编程ROM（PROM）
>>
>> 紫外线擦除ROM（EPROM）
>>
>> 电擦除编程ROM（EEPROM）

#### 1.随机存取存储器RAM

![2431676092906_.pic](/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/2431676092906_.pic.jpg)

##### （1）静态RAM（SRAM）

###### 例1:SRAM芯片	6264

存储容量为8K*8位

28个引脚：13根地址线A12～A0

​					8根数据线D7～D0

​					片选$\overline{CS1}$、CS2

​					读写$\overline{WE}$、$\overline{OE}$

<img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/2441676101769_.pic.jpg" alt="2441676101769_.pic" style="zoom:60%;" />

###### 例2：SRAM芯片2114

存储容量1024*4

18个引脚：10根地址线A9～A0

​					4根数据线I/O4～I/O1

​					片选$\overline{CS}$

​					读写$\overline{WE}$

<img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/2451676102630_.pic.jpg" alt="2451676102630_.pic" style="zoom:60%;" />

##### （2）动态RAM

DRAM采用电容存储电荷原理

是必须配备“读出再生放大电路”进行刷新

每隔固定的时间对芯片刷新一遍，为刷新周期例如:刷新周期为2毫秒、8ms等

###### 例1:DRAM芯片	2164

储存容量64K*1

16个引脚：8根地址线A7～A0

​					1根数据输入线$D_{IN}$

​					1根数据输出线$D_{OUT}$

​					行地址选通$\overline{RAS}$	R0～R7

​					列地址选通$\overline{CAS}$	C0～C7

​					读写控制$\overline{WE}$

<img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/2471676104198_.pic.jpg" alt="2471676104198_.pic" style="zoom:60%;" />

#### 2.只读存储器ROM

掩膜ROM: 信息制作在芯片中，不可更改

PROM: 允许一次编程，此后不可更改

EPROM：紫外线擦除，多次擦除和编程

EEPROM:加电在线擦除和编程，可多次擦写（$E^2$PROM )

Flash Memory:能够快速擦写的EEPROM(闪存)

##### （1）EPROM

用于紫外线透过擦除原有信息

一般使用专门的编程器(烧写器)编程编程后，应该贴上不透光封条

未编程前，每个基本存储单元都是信息“1”编程就是将某些单元写入信息“0“

###### 例1:EPROM芯片 2764

存储容量64K*8

28个引脚：13根地址线A12～A0

​					8根地址线D7～D0

​					片选$\overline{CE}$

​					编程$\overline{PGM}$

​					读$\overline{OE}$

​					编程电压$V_{pp}$

<img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/2501676105762_.pic.jpg" alt="2501676105762_.pic" style="zoom:60%;" />

##### （2）EEPROM

用加电方法，进行在线擦写

无需拔下，直接在电路中擦除和编程一次完成

### 二、半导体存储器性能指标

1.存储容量：1⃣️指存储器所能存储二进制数的总量，即所含存储元（一个二进制位就是一个存储元）的总数

​					   2⃣️存储容量 = 字数 * 每字位数

​					   3⃣️存储容量与芯片的地址、数据线个数有关：

​									存储容量 = $2^M$*N

​									M：芯片的地址线条数

​									N：芯片的数据线条数

2.存取速度：存取时间（$T_A$）:指从启动一次存储器操作到完成该操作所经历的时间，有时有称为读写周期。

​						存取周期（$T_AC$）:两次存储器访问所允许的最小时间间隔		$T_A$+$T_i$空闲周期

3.制造工艺：

4.功耗：

5.可靠性：平均无故障时间

## 3.4存储器芯片与CPU的连接

![2511676107930_.pic](/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/2511676107930_.pic.jpg)

### 一、连接方式：

#### 1.CPU的三类系统总线：

数据总线（DB）：CPU 8位或16位

地址总线（AB）：CPU的20位，分为

>片内：直接连接到存储器芯片
>
>片外：地址译码器（2:4或3:8）或未使用

控制总线（CB）：读/写，IO/M<img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/2521676109667_.pic.jpg" alt="2521676109667_.pic" style="zoom:50%;" />

#### 2.数据线连接方法：

当CPU选择8088时，DB为8位

若芯片的数据线正好8根：

<img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/2541676109947_.pic.jpg" alt="2541676109947_.pic" style="zoom:60%;" />

若芯片的数据线不足8根：“位扩展”

<img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/2531676109928_.pic.jpg" alt="2531676109928_.pic" style="zoom:60%;" />

位扩充：例如：1K x 4  -->	1K x 8

<img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/2551676110323_.pic.jpg" alt="2551676110323_.pic" style="zoom:60%;" />

#### 3.地址线的连接方式：

片内：系统的低位地址线与芯片的地址线相连

片外：系统的高位地址线：

> 进地址译码器（2:4或3:8）进行片选
>
> 或者未使用
>
> 或者直接片选

地址线的扩充：“字扩充”

![2561676111321_.pic](/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/2561676111321_.pic.jpg)

#### 4.译码

门电路译码

<img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/2571676113680_.pic.jpg" alt="2571676113680_.pic" style="zoom:60%;" />

译码器常用的2:4译码器：74LS139

​						3:8译码器：74LS138

​						4:16译码器：74LS154

<img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/2591676114785_.pic.jpg" alt="2591676114785_.pic" style="zoom:60%;" />

<img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/2581676114675_.pic.jpg" alt="2581676114675_.pic" style="zoom:60%;" />

#### 5.译码方法

##### （1）全译码

CPU系统的所有地址线均可使用，包括：

​																	片内：低位AB直接进入芯片

​																	片外：高位AB直接进入芯片

每个存储单元的地址都是唯一的，不存在地址重复

<img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/2631676121177_.pic.jpg" alt="2631676121177_.pic" style="zoom:60%;" />

##### （2）部分译码

高位地址线只有部份参加译码，部分没用；

每个存储单元将对应多个地址（地址重复）；

系统的部份地址空间被浪费；

![2641676123293_.pic_hd](/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/2641676123293_.pic_hd.jpg)

（3）线选译码

只用少数几根高位地址线进行芯片的译码

构成简单，但地址空间严重浪费

出现地址重复

一个存储地址会对应多个存储单元 

<img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/2651676125691_.pic.jpg" alt="2651676125691_.pic" style="zoom:60%;" />

#### 6.存储芯片的读写控制

芯片$\overline{OE}$与系统的读命令线相连

芯片$\overline{WE}$与系统的写命令线相连

<img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/2681676165833_.pic.jpg" alt="2681676165833_.pic" style="zoom:60%;" />

#### 7.CPU与M连接举例

<img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/2691676166415_.pic.jpg" alt="2691676166415_.pic" style="zoom:60%;" />

；<img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/2701676168702_.pic.jpg" alt="2701676168702_.pic" style="zoom:60%;" />

### 二、主存与CPU连接举例：

#### 1.看图确定地址：

##### 例1：

![2711676170795_.pic](/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/2711676170795_.pic.jpg)

##### 例2:

![2721676171079_.pic](/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/2721676171079_.pic.jpg)

#### 2.连接画图步骤

(1)确定CPU系统的类型、字长、总线的条数、种类:

(2)确定主存的单片芯片的类型、容量和引脚

(3)确定主存的总容量或地址范围

(4)计算组数(字扩展)或每组片数(位扩展)

(5)选择译码方式和译码器

(6)画图

##### 例一：![2741676171602_.pic](/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/2741676171602_.pic.jpg)

<img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/2761676171686_.pic.jpg" alt="2761676171686_.pic" style="zoom:33%;" /><img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/2751676171637_.pic.jpg" alt="2751676171637_.pic" style="zoom:33%;" /><img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/2771676171705_.pic.jpg" alt="2771676171705_.pic" style="zoom:33%;" />

##### 例二：

![2781676174883_.pic](/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/2781676174883_.pic.jpg)

<img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/2791676175200_.pic.jpg" alt="2791676175200_.pic" style="zoom:40%;" /><img src="/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/2801676175307_.pic.jpg" alt="2801676175307_.pic" style="zoom:40%;" />

##### 例三：

![2821676175608_.pic](/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/2821676175608_.pic.jpg)

![2841676182348_.pic](/Users/mingmingbushimingming/Library/Containers/com.tencent.xinWeChat/Data/Library/Application Support/com.tencent.xinWeChat/2.0b4.0.9/697fbac40d91e745b8859dbd699e5a28/Message/MessageTemp/03f008294b09bd221423f947eee3d31b/Image/2841676182348_.pic.jpg)

### 本章考核要求：

1.理解存储器三级存储体系的构成:外存、内存、高速缓冲存储器的概念。

2.掌握存储器的性能指标，半导体存储器的分类

3理解静态与动态存储器的构成及其特点

A.掌握典型的存储芯片(SRAM 6264、DRAM 2164A)的引脚构成

5.了解高速缓冲存储器
